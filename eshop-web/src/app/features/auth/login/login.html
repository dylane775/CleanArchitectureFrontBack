<div class="login-wrapper">
  <div class="login-container">
    <!-- Left side - Image/Branding -->
    <div class="login-left">
      <div class="branding">
        <h1 class="brand-title">eShop</h1>
        <p class="brand-subtitle">Your Premium Shopping Experience</p>
      </div>
      <div class="illustration">
        <svg viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
          <circle cx="200" cy="150" r="120" fill="#3f51b5" opacity="0.1"/>
          <path d="M150 120 L250 120 L250 180 L150 180 Z" fill="#3f51b5" opacity="0.3"/>
          <circle cx="200" cy="150" r="40" fill="#3f51b5"/>
        </svg>
      </div>
    </div>

    <!-- Right side - Login Form -->
    <div class="login-right">
      <div class="login-form-wrapper">
        <div class="login-header">
          <h2>Welcome Back</h2>
          <p>Sign in to continue to eShop</p>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <div class="form-group">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Email Address</mat-label>
              <input matInput type="email" formControlName="email" placeholder="your@email.com">
              <mat-icon matPrefix>email</mat-icon>
              @if (loginForm.get('email')?.hasError('required') && loginForm.get('email')?.touched) {
                <mat-error>Email is required</mat-error>
              }
              @if (loginForm.get('email')?.hasError('email') && loginForm.get('email')?.touched) {
                <mat-error>Please enter a valid email</mat-error>
              }
            </mat-form-field>
          </div>

          <div class="form-group">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Password</mat-label>
              <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" placeholder="Enter your password">
              <mat-icon matPrefix>lock</mat-icon>
              <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" type="button">
                <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              @if (loginForm.get('password')?.hasError('required') && loginForm.get('password')?.touched) {
                <mat-error>Password is required</mat-error>
              }
              @if (loginForm.get('password')?.hasError('minlength') && loginForm.get('password')?.touched) {
                <mat-error>Password must be at least 6 characters</mat-error>
              }
            </mat-form-field>
          </div>

          <button mat-raised-button color="primary" type="submit" class="login-button" [disabled]="loading()">
            @if (loading()) {
              <mat-spinner diameter="24" color="accent"></mat-spinner>
            } @else {
              <ng-container>
                <span>Sign In</span>
                <mat-icon>arrow_forward</mat-icon>
              </ng-container>
            }
          </button>
        </form>

        <div class="divider">
          <span>OR</span>
        </div>

        <div class="register-section">
          <p>Don't have an account?</p>
          <a routerLink="/auth/register" class="register-link">Create Account</a>
        </div>
      </div>
    </div>
  </div>
</div>
